#! /bin/sh
USAGE="Usage: ${0##*/} URL

Download a audio or playlist as MP3 from given URL to '$HOME/Downloads'."

set -e
case "$1" in
('') echo "${0##*/}: URL missing" >&2 && exit 1 ;;
(-h|--help) echo "$USAGE" ;;
(*)
    mkdir -p "$HOME/Downloads"
    cd "$HOME/Downloads"
    yt-dlp \
        --extract-audio --audio-format m4a --audio-quality 0 \
        --embed-metadata \
        --embed-thumbnail \
        --no-overwrites \
        --console-title \
        --concurrent-fragments 8 \
        --geo-bypass \
        "$@"
;;
esac
