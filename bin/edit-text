#! /bin/sh

set -e

[ "$1" = '--help' ] && echo "Usage: ${0##*/} [FILE | NAME]

Edit given FILE or project NAME." && exit

[ $# = 0 ] && (>&2 echo "${0##*/}: FILE | NAME missing") && exit 1

if [ -e "$1" ]
then code "$1"
else
  PROJECT="$(list-projects "$1")" || (>&2 echo "${0##*/}: no such project - $1" && exit 2)
  code "$PROJECT"
fi
