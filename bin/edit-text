#! /bin/sh
USAGE="Usage: ${0##*/} [FILE | NAME]

Edit given FILE or project NAME."

set -e
case "$1" in
('') echo "${0##*/}: FILE or NAME missing " >&2 ; exit 1 ;;
(-h|--help) echo "$USAGE" ;;
(*)
  if [ -r "$1" ]
  then exec code "$1"
  else
    PROJECT="$(list-projects "$1")" || (>&2
      echo "${0##*/}: no such project - $1" ; exit 2
    )
    exec code "$PROJECT"
  fi
;;
esac
