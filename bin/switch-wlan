#! /bin/sh
USAGE="Usage: ${0##*/} [on|off|status]

Switch WLAN on/off or return the current status."

set -e
case "$1" in
(on|1) networksetup -setairportpower en0 on ;;
(off|0) networksetup -setairportpower en0 off ;;
(status|'') echo "state=$(networksetup -getairportpower en0 | grep -oE 'On|Off' | tr '[:upper:]' '[:lower:]')" ;;
(-h|--help) echo "$USAGE" ;;
(*) echo "${0##*/}: invalid argument - $1" >&2 && exit 1 ;;
esac
