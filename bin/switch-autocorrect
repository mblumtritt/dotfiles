#! /bin/sh
USAGE="Usage: ${0##*/} [on|off|status]

Enable/disable text auto correction or show status."

set -e
case "$1" in
(on|1) defaults write -g NSAutomaticSpellingCorrectionEnabled -bool true ;;
(off|0) defaults write -g NSAutomaticSpellingCorrectionEnabled -bool false ;;
(status|'') echo "state=$(defaults read -g NSAutomaticSpellingCorrectionEnabled)" ;;
(-h|--help) echo "$USAGE" ;;
(*) echo "${0##*/}: invalid argument - $1" >&2 && exit 1 ;;
esac
