#! /bin/sh
USAGE="Usage: ${0##*/} URL

Display WHOIS rrecord about given URL or domain."

set -e
case "$1" in
('') echo "${0##*/}: NAME missing" >&2 && exit 1 ;;
(-h|--help) echo "$USAGE" ;;
(*)
  domain=$(echo "$1" | awk -F/ '{print $3}') # get domain from URL
  [ -z "$domain" ] && domain=$1
  echo "whois record for $domain:"
  /usr/bin/whois -h whois.internic.net "$domain" | sed '/NOTICE:/q'
;;
esac
