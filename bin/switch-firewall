#! /bin/sh
USAGE="Usage: ${0##*/} [on|off|status]

Enable/disable firewall or show status. (May require password.)"

set -e
case "$1" in
(on|1) exec sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate on ;;
(off|0) exec sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate off ;;
(status|'') exec sudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate ;;
(-h|--help) echo "$USAGE" ;;
(*) echo "${0##*/}: invalid argument - $1" >&2 ; exit 1 ;;
esac
